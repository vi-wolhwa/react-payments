import{j as o}from"./jsx-runtime-BnIj46N_.js";import{C as b}from"./CardNumberTextField-BWnDAD5C.js";import{E as D}from"./ExpirationDateTextField-fyrLFzzj.js";import{O}from"./OwnerNameTextField-DIBo0VMV.js";import{P as y}from"./PreviewCreditCard-Cx7NOx6Q.js";import{r as i}from"./index-CsdIBAqE.js";import{E as p}from"./errorMessage-DP14ozpx.js";import"./TextField-DUeZmIQx.js";import"./CardNumberInput-DC57cIFJ.js";import"./Input-Dc2lgE4t.js";import"./ExpirationDateInput-OX29aQK0.js";import"./OwnerNameInput-BKi_TtOY.js";const l=r=>/^\d+$/.test(r),u=r=>r==="",F=r=>/^[A-Za-z]+$/.test(r),M=r=>{if(u(r))return!0;if(!l(r))return!1;const a=parseInt(r,10);return a>=1&&a<=12},_=r=>!!(u(r)||l(r)),I=r=>!!(u(r)||l(r)),j=r=>{if(u(r)||F(r))return!0},S={month:"",year:""},E={isError:{month:!1,year:!1},errorMessage:""},A={month:M,year:_},v={month:p.invalidMonthInput,year:p.invalidYearInput},R=()=>{const[r,a]=i.useState(S),[s,e]=i.useState({isError:{month:!1,year:!1},errorMessage:""});return{expirationDate:r,expirationDateError:s,handleExpirationChange:(t,n)=>{if(!A[t](n)){e({isError:{...E.isError,[t]:!0},errorMessage:v[t]});return}a(d=>({...d,[t]:n})),e(E)}}},V=()=>{const[r,a]=i.useState(["","","",""]),[s,e]=i.useState({isError:!1,errorMessage:""});return{cardNumbers:r,cardNumberError:s,handleCardNumberChange:(t,n)=>{if(!I(n)){e({isError:!0,errorMessage:p.invalidCardNumberInput});return}a(r.map((d,C)=>C===t?n:d)),e({isError:!1,errorMessage:""})}}},h={isError:!1,errorMessage:""},P=()=>{const[r,a]=i.useState(""),[s,e]=i.useState(h),m=t=>{if(!j(t)){e({isError:!0,errorMessage:p.invalidOwnerNameInput});return}a(t),e(h)};return{ownerName:r.toUpperCase(),ownerNameError:s,handleOwnerNameChange:m}},T="_previewCreditCardContainer_1193s_1",Y="_textFieldContainer_1193s_19",x={previewCreditCardContainer:T,textFieldContainer:Y},w=()=>{const{cardNumbers:r,cardNumberError:a,handleCardNumberChange:s}=V(),{expirationDate:e,expirationDateError:m,handleExpirationChange:t}=R(),{ownerName:n,ownerNameError:d,handleOwnerNameChange:C}=P();return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:x.previewCreditCardContainer,children:o.jsx(y,{cardNumbers:r,expirationDate:e,ownerName:n})}),o.jsxs("div",{className:x.textFieldContainer,children:[o.jsx(b,{cardNumbers:r,onAddCardNumber:s,cardNumberError:a}),o.jsx(D,{month:e.month,year:e.year,onAddExpirationDate:t,expirationDateError:m}),o.jsx(O,{ownerName:n,onAddOwnerName:C,ownerNameError:d})]})]})};w.__docgenInfo={description:"",methods:[],displayName:"CreditCardForm"};const Q={title:"Payments/CreditCardForm",component:w,parameters:{layout:"centered",docs:{description:{component:"결제할 카드 번호, 유효 기간, 소유자 이름을 입력 받아 카드 형태로 보여주는 Form 컴포넌트"}}},tags:["autodocs"]},c={};var N,f,g;c.parameters={...c.parameters,docs:{...(N=c.parameters)==null?void 0:N.docs,source:{originalSource:"{}",...(g=(f=c.parameters)==null?void 0:f.docs)==null?void 0:g.source}}};const W=["Default"];export{c as Default,W as __namedExportsOrder,Q as default};
